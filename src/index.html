<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Healthcare</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="fontawesome-free-5.15.3-web/css/all.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <link
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <app-root></app-root>
    <script src="https://github.com/Cognigy/WebchatWidget/releases/latest/download/webchat.js"></script>

        <script>

            let getWebChatSessionId =
                localStorage.getItem("webChatSessionId") !== undefined &&
                localStorage.getItem("webChatSessionId") !== null
                    ? JSON.parse(localStorage.getItem("webChatSessionId"))
                    : "";
            let customerId = JSON.parse(localStorage.getItem("uniqueId"));
            let locationvalue = JSON.parse(localStorage.getItem("loggedIn"));
            let webChatAuthentication =
                JSON?.parse(localStorage.getItem("webChatAuthentication")) ||
                "";
            initWebchat(
                "https://endpoint-trial.cognigy.ai/fe0d7f85c16a1886082351ca6aadaab1d797a3e0583ae5acde23d8a71d38917f",
                {
                    settings: {
                        disableBranding: "true",
                        designTemplate: "2",
                        title: "indexPopUp",
                        startBehavior: "injection",
                        getStartedText: "",
                        getStartedData: {
                            session_extref: getWebChatSessionId
                                ? getWebChatSessionId
                                : "",
                            authenticated: webChatAuthentication ? "yes" : "no",
                            customer_uniqueId: customerId,
                            locationpath: locationvalue,
                        },
                    },
                }
            )
                .then((webchat) => {
                    console.log("response of webchat--> ", webchat);
                })
                .catch((error) => {
                    console.log("error of webchat--> ", error);
                });
        </script>
  </body>
</html>
